{"version":3,"mappings":"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","names":["COLORS","Card","title","value","children","jsxs","jsx","PageSummary","data","totalViews","uniqueVisitors","chartData","ResponsiveContainer","BarChart","CartesianGrid","XAxis","YAxis","Tooltip","Bar","entry","index","Cell","item","PageViewsTable","views","recentViews","formatTimestamp","isoString","view","HealthContext","createContext","readBase","ime","__vite_import_meta_env__","buildVal","runtime","HealthProvider","baseUrl","healthPath","pingPath","checks","setChecks","useState","state","setState","version","setVersion","latencyMs","setLatencyMs","lastSuccessRef","useRef","timerRef","backoffRef","pushCheck","rec","prev","doCheck","useCallback","ping","url","headers","start","resp","latency","json","text","err","json2","next","last","age","useEffect","stopped","baseInterval","schedule","delay","backoff","jitter","retry","lastSuccess","useHealth","ctx","useContext","SetupGuide","copied","setCopied","scriptTag","handleCopy","StatusInline","SessionModal","session","onClose","hover","setHover","timeline","useMemo","times","v","min","max","mapX","ts","width","i","x","e","SessionList","sessions","selected","setSelected","s","FunnelBar","label","SessionFunnel","topN","counts","mid","exit","p","toSorted","obj","a","b","entryTop","midTop","exitTop","all","THEME_KEY","getPreferredTheme","stored","applyTheme","t","l","createOverlays","bg","sheen","glow","fore","portal","pf","anims","setup","d","m","f","initTheme","StatusChip","React","__vitePreload","App","apiBase","setViews","sessionsData","setSessionsData","loading","setLoading","error","setError","theme","setTheme","fetchStats","statsUrl","response","bodySnippet","ct","txt","aggUrl","agg","parsed","pageSummary","acc","page","Fragment","rootElement","root","ReactDOM"],"ignoreList":[],"sources":["../../src/components/PageSummary.tsx","../../src/components/PageViewsTable.tsx","../../src/hooks/useHealth.tsx","../../src/components/SetupGuide.tsx","../../src/components/SessionModal.tsx","../../src/components/SessionList.tsx","../../src/components/SessionFunnel.tsx","../../src/theme.tsx","../../src/App.tsx","../../src/index.tsx"],"sourcesContent":["import React from 'react';\nimport { PageSummaryData } from '../types';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Cell } from 'recharts';\n\ninterface PageSummaryProps {\n  data: PageSummaryData[];\n  totalViews: number;\n  uniqueVisitors: number;\n}\n\nconst COLORS = ['#8884d8', '#82ca9d', '#ffc658', '#ff8042', '#0088FE', '#00C49F'];\n\nconst Card: React.FC<{ title: string; value: number | string; children?: React.ReactNode }> = ({ title, value, children }) => (\n    <div className=\"bg-secondary p-6 rounded-lg border border-border\">\n        <h3 className=\"text-sm font-medium text-muted-foreground\">{title}</h3>\n        <p className=\"text-3xl font-bold mt-1\">{value}</p>\n        {children}\n    </div>\n);\n\n\nconst PageSummary: React.FC<PageSummaryProps> = ({ data, totalViews, uniqueVisitors }) => {\n  const chartData = data.slice(0, 10);\n\n  return (\n    <div>\n        <h2 className=\"text-2xl font-semibold mb-4\">Overview</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\n            <Card title=\"Total Page Views\" value={totalViews} />\n            <Card title=\"Unique Visitors (by User Agent)\" value={uniqueVisitors} />\n            <Card title=\"Top Pages\" value={data.length}>\n                <p className=\"text-xs text-muted-foreground mt-2\">Number of distinct pages tracked.</p>\n            </Card>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            <div className=\"bg-secondary p-6 rounded-lg border border-border\">\n                <h3 className=\"text-lg font-semibold mb-4\">Top 10 Pages by Views</h3>\n                 <div className=\"h-80\">\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                        <BarChart data={chartData} layout=\"vertical\" margin={{ top: 5, right: 20, left: 50, bottom: 5 }}>\n                            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"rgba(255, 255, 255, 0.1)\" />\n                            <XAxis type=\"number\" stroke=\"#9ca3af\" />\n                            <YAxis \n                              type=\"category\" \n                              dataKey=\"page\" \n                              width={120} \n                              tick={{ fill: '#9ca3af', fontSize: 12 }} \n                              tickFormatter={(value) => value.length > 15 ? `${value.substring(0, 15)}...` : value}\n                            />\n                            <Tooltip\n                                cursor={{ fill: 'rgba(255, 255, 255, 0.05)' }}\n                                contentStyle={{ backgroundColor: '#1f2937', border: '1px solid #374151', borderRadius: '0.5rem' }}\n                                labelStyle={{ color: '#f9fafb' }}\n                            />\n                            <Bar dataKey=\"views\">\n                                {chartData.map((entry, index) => (\n                                    <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                                ))}\n                            </Bar>\n                        </BarChart>\n                    </ResponsiveContainer>\n                </div>\n            </div>\n            <div className=\"bg-secondary p-6 rounded-lg border border-border\">\n                <h3 className=\"text-lg font-semibold mb-4\">All Pages</h3>\n                <div className=\"overflow-y-auto max-h-80 pr-2\">\n                    <table className=\"w-full text-left\">\n                        <thead>\n                            <tr className=\"border-b border-border\">\n                                <th className=\"p-2\">Page</th>\n                                <th className=\"p-2 text-right\">Views</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {data.map((item, index) => (\n                                <tr key={index} className=\"border-b border-border/50\">\n                                    <td className=\"p-2 truncate\" title={item.page}>{item.page}</td>\n                                    <td className=\"p-2 text-right font-mono\">{item.views}</td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    </div>\n  );\n};\n\nexport default PageSummary;","import React from 'react';\nimport { PageView } from '../types';\n\ninterface PageViewsTableProps {\n  views: PageView[];\n}\n\nconst PageViewsTable: React.FC<PageViewsTableProps> = ({ views }) => {\n  const recentViews = views.slice(0, 20); // Show latest 20 views\n\n  const formatTimestamp = (isoString: string) => {\n    try {\n        const date = new Date(isoString);\n        return date.toLocaleString();\n    } catch(e) {\n        return isoString;\n    }\n  };\n\n  return (\n    <div>\n      <h2 className=\"text-2xl font-semibold mb-4\">Recent Hits</h2>\n      <div className=\"bg-secondary border border-border rounded-lg overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full text-left text-sm\">\n            <thead className=\"border-b border-border\">\n              <tr>\n                <th scope=\"col\" className=\"px-6 py-3 font-medium\">Page</th>\n                <th scope=\"col\" className=\"px-6 py-3 font-medium\">Referrer</th>\n                <th scope=\"col\" className=\"px-6 py-3 font-medium\">Timestamp</th>\n                <th scope=\"col\" className=\"px-6 py-3 font-medium\">User Agent</th>\n              </tr>\n            </thead>\n            <tbody>\n              {recentViews.map((view) => (\n                <tr key={view.id} className=\"border-b border-border/50 hover:bg-accent\">\n                  <td className=\"px-6 py-4 truncate max-w-xs\" title={view.page}>{view.page}</td>\n                  <td className=\"px-6 py-4 text-muted-foreground truncate max-w-xs\" title={view.referrer}>\n                    {view.referrer || 'Direct'}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-muted-foreground\">{formatTimestamp(view.timestamp)}</td>\n                  <td className=\"px-6 py-4 text-muted-foreground truncate max-w-sm\" title={view.userAgent}>\n                    {view.userAgent}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PageViewsTable;","import React, { createContext, useContext, useEffect, useRef, useState, useCallback } from 'react';\r\n\r\nexport type HealthState = 'connected' | 'degraded' | 'offline';\r\n\r\nexport interface HealthCheckRecord {\r\n  ts: string;\r\n  ok: boolean;\r\n  statusCode: number | null;\r\n  latencyMs: number | null;\r\n  error?: string | null;\r\n  snippet?: string | null;\r\n}\r\n\r\nexport interface HealthContextValue {\r\n  state: HealthState;\r\n  lastSuccess?: HealthCheckRecord | null;\r\n  checks: HealthCheckRecord[];\r\n  version?: string | null;\r\n  latencyMs?: number | null;\r\n  baseUrl: string;\r\n  retry: () => Promise<void>;\r\n}\r\n\r\nconst HealthContext = createContext<HealthContextValue | undefined>(undefined);\r\n\r\nconst readBase = () => {\r\n  // Browser builds shouldn't reference `process`. Prefer import.meta.env at build time\r\n  // and allow a runtime override on window.__VITE_API_BASE if present.\r\n  const ime = (typeof (import.meta) !== 'undefined' ? (import.meta as any).env : {}) || {};\r\n  const buildVal = (ime && ime.VITE_API_BASE) ? String(ime.VITE_API_BASE) : '';\r\n  if (buildVal) return buildVal.replace(/\\/$/, '');\r\n\r\n  // runtime injection (optional) — set window.__VITE_API_BASE before app mounts if needed\r\n  try {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const runtime = (typeof window !== 'undefined' && (window as any).__VITE_API_BASE) ? String((window as any).__VITE_API_BASE) : '';\r\n    if (runtime) return runtime.replace(/\\/$/, '');\r\n  } catch (e) {\r\n    /* ignore */\r\n  }\r\n\r\n  // If nothing provided, return empty string — caller will handle disabled checks gracefully.\r\n  return '';\r\n};\r\n\r\nexport const HealthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const baseUrl = readBase();\r\n  const healthPath = '/api/health';\r\n  const pingPath = `${healthPath}?ping=1`;\r\n\r\n  const [checks, setChecks] = useState<HealthCheckRecord[]>([]);\r\n  const [state, setState] = useState<HealthState>('offline');\r\n  const [version, setVersion] = useState<string | null>(null);\r\n  const [latencyMs, setLatencyMs] = useState<number | null>(null);\r\n\r\n  const lastSuccessRef = useRef<HealthCheckRecord | null>(null);\r\n  const timerRef = useRef<number | null>(null);\r\n  const backoffRef = useRef<number | null>(null);\r\n\r\n  const pushCheck = (rec: HealthCheckRecord) => {\r\n    setChecks(prev => {\r\n      const out = [rec, ...prev].slice(0, 20);\r\n      return out;\r\n    });\r\n  };\r\n\r\n  const evaluate = (rec: HealthCheckRecord) => {\r\n    if (!rec.ok) return 'offline' as HealthState;\r\n    if ((rec.latencyMs || 0) >= 1200) return 'degraded' as HealthState;\r\n    return 'connected' as HealthState;\r\n  };\r\n\r\n  const doCheck = useCallback(async (ping = false) => {\r\n    const url = baseUrl + (ping ? pingPath : healthPath);\r\n    const headers = { Accept: 'application/json' } as Record<string,string>;\r\n    const start = performance.now();\r\n    let rec: HealthCheckRecord = { ts: new Date().toISOString(), ok: false, statusCode: null, latencyMs: null };\r\n    try {\r\n      const resp = await fetch(url, { method: 'GET', headers });\r\n      const latency = Math.round(performance.now() - start);\r\n      rec.latencyMs = latency;\r\n      rec.statusCode = resp.status;\r\n      const ct = resp.headers.get('content-type') || '';\r\n      if (!ct.startsWith('application/json')) {\r\n        const text = await resp.text();\r\n        rec.ok = false;\r\n        rec.error = `Non-JSON response`;\r\n        rec.snippet = text.slice(0, 120);\r\n      } else {\r\n        const json = await resp.json();\r\n        rec.ok = !!json.ok && resp.status >= 200 && resp.status < 300;\r\n        setVersion(json.version || null);\r\n        // If db is present and not ok, treat as degraded\r\n        if (json.db && json.db !== 'ok') {\r\n          // mark ok still true if json.ok, but we'll reflect degraded state below\r\n        }\r\n      }\r\n    } catch (err: any) {\r\n      rec.ok = false;\r\n      rec.error = err?.message || String(err);\r\n      rec.latencyMs = rec.latencyMs || null;\r\n    }\r\n\r\n    pushCheck(rec);\r\n    // State decision: consider db field and latency\r\n    if (rec.ok) {\r\n      lastSuccessRef.current = rec;\r\n      setLatencyMs(rec.latencyMs || null);\r\n      // if last check's latency is high -> degraded\r\n      if ((rec.latencyMs || 0) >= 1200) {\r\n        setState('degraded');\r\n      } else {\r\n        // parse latest check's db if available\r\n        try {\r\n          // re-fetch small json to inspect db if content-type was json\r\n          const resp2 = await fetch(url, { method: 'GET', headers });\r\n          const json2 = await resp2.json();\r\n          if (json2.db && json2.db !== 'ok') {\r\n            setState('degraded');\r\n          } else {\r\n            setState('connected');\r\n          }\r\n        } catch (_) {\r\n          setState('connected');\r\n        }\r\n      }\r\n      backoffRef.current = null;\r\n    } else {\r\n      // network error or non-json -> offline\r\n      // set exponential backoff\r\n      const prev = backoffRef.current || 0;\r\n      let next = prev === 0 ? 30_000 : Math.min(prev * 2, 120_000);\r\n      backoffRef.current = next;\r\n      // if we had a success recently older than 30s, treat as offline\r\n      const last = lastSuccessRef.current ? Date.parse(lastSuccessRef.current.ts) : 0;\r\n      const age = last ? (Date.now() - last) : Infinity;\r\n      setState(age > 30_000 ? 'offline' : 'offline');\r\n    }\r\n  }, [baseUrl]);\r\n\r\n  // Polling with jitter and backoff\r\n  useEffect(() => {\r\n    let stopped = false;\r\n    if (!baseUrl) {\r\n      // No configured API base — remain offline but don't throw in browser\r\n      setState('offline');\r\n      return () => { stopped = true; };\r\n    }\r\n    const baseInterval = 15_000;\r\n\r\n    const schedule = (delay: number) => {\r\n      if (stopped) return;\r\n      if (timerRef.current) window.clearTimeout(timerRef.current);\r\n      timerRef.current = window.setTimeout(async () => {\r\n        await doCheck(true);\r\n        // determine next delay: backoff if set, else normal cadence with jitter\r\n        const backoff = backoffRef.current || 0;\r\n        if (backoff) {\r\n          schedule(backoff + Math.round(backoff * (Math.random() * 0.2 - 0.1)));\r\n        } else {\r\n          const jitter = Math.round(baseInterval * (Math.random() * 0.2 - 0.1));\r\n          schedule(baseInterval + jitter);\r\n        }\r\n      }, delay);\r\n    };\r\n\r\n    // immediate check\r\n    (async () => {\r\n      await doCheck(false);\r\n      const backoff = backoffRef.current || 0;\r\n      if (backoff) schedule(backoff);\r\n      else {\r\n        const jitter = Math.round(baseInterval * (Math.random() * 0.2 - 0.1));\r\n        schedule(baseInterval + jitter);\r\n      }\r\n    })();\r\n\r\n    return () => { stopped = true; if (timerRef.current) window.clearTimeout(timerRef.current); };\r\n  }, [doCheck]);\r\n\r\n  const retry = useCallback(async () => {\r\n    await doCheck(false);\r\n  }, [doCheck]);\r\n\r\n  const lastSuccess = lastSuccessRef.current;\r\n\r\n  return (\r\n    <HealthContext.Provider value={{ state, lastSuccess, checks, version, latencyMs, baseUrl, retry }}>\r\n      {children}\r\n    </HealthContext.Provider>\r\n  );\r\n};\r\n\r\nexport function useHealth() {\r\n  const ctx = useContext(HealthContext);\r\n  if (!ctx) throw new Error('useHealth must be used within HealthProvider');\r\n  return ctx;\r\n}\r\n","import React, { useState } from 'react';\nimport { useHealth } from '../hooks/useHealth';\n\nconst SetupGuide: React.FC = () => {\n    const [copied, setCopied] = useState(false);\n    const trackerUrl = '/tracker.js';\n    const scriptTag = `<script async defer src=\"${trackerUrl}\"></script>`;\n\n    const handleCopy = () => {\n        navigator.clipboard.writeText(scriptTag).then(() => {\n            setCopied(true);\n            setTimeout(() => setCopied(false), 2000);\n        });\n    };\n\n    const StatusInline: React.FC = () => {\n        try {\n            const { state } = useHealth();\n            return (\n                <div className=\"inline-flex items-center gap-2\">\n                    <span className={`w-2 h-2 rounded-full ${state === 'connected' ? 'bg-green-500' : state === 'degraded' ? 'bg-amber-500' : 'bg-red-600'}`}></span>\n                    <span className=\"text-sm\">Tracker {state === 'connected' ? 'Connected ✓' : 'Disconnected ✕'}</span>\n                </div>\n            );\n        } catch (e) {\n            return null;\n        }\n    };\n\n    return (\n        <div className=\"bg-secondary border border-border rounded-lg p-6\">\n            <h2 className=\"text-xl font-semibold mb-2\">Get Started</h2>\n            <p className=\"text-muted-foreground mb-4\">\n                To start tracking pageviews, add the following script tag to the <code>&lt;head&gt;</code> section of your website's HTML.\n            </p>\n            <div className=\"mb-4\">\n                <StatusInline />\n            </div>\n            <div className=\"bg-background border border-border rounded-md p-4 flex items-center justify-between\">\n                <pre className=\"text-sm overflow-x-auto\">\n                    <code className=\"text-primary\">{scriptTag}</code>\n                </pre>\n                <button\n                    onClick={handleCopy}\n                    className=\"ml-4 px-3 py-1.5 text-sm font-medium bg-primary text-primary-foreground rounded-md hover:opacity-90 transition-opacity\"\n                >\n                    {copied ? 'Copied!' : 'Copy'}\n                </button>\n            </div>\n        </div>\n    );\n};\n\nexport default SetupGuide;","import React, { useMemo, useState } from 'react';\r\nimport { PageView } from '../types';\r\n\r\ninterface Session {\r\n  id: string;\r\n  sessionIdBase: string;\r\n  start: string;\r\n  end: string;\r\n  durationSeconds: number;\r\n  pages: string[];\r\n  entryPage: string;\r\n  exitPage: string;\r\n  isBounce: boolean;\r\n  views: PageView[];\r\n}\r\n\r\ninterface Props {\r\n  session: Session | null;\r\n  onClose: () => void;\r\n}\r\n\r\nconst SessionModal: React.FC<Props> = ({ session, onClose }) => {\r\n  if (!session) return null;\r\n\r\n  const [hover, setHover] = useState<{ x: number; y: number; text: string } | null>(null);\r\n\r\n  const timeline = useMemo(() => {\r\n    const times = session.views.map(v => Date.parse(v.timestamp));\r\n    const min = Math.min(...times);\r\n    const max = Math.max(...times);\r\n    return { min, max };\r\n  }, [session]);\r\n\r\n  const mapX = (ts: number, width: number) => {\r\n    if (timeline.max === timeline.min) return width / 2;\r\n    return ((ts - timeline.min) / (timeline.max - timeline.min)) * width;\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n      <div className=\"absolute inset-0 bg-black/60\" onClick={onClose} />\r\n      <div className=\"relative bg-background rounded-lg shadow-lg w-11/12 md:w-3/4 lg:w-2/3 max-h-[80vh] overflow-y-auto p-6 border border-border\">\r\n        <div className=\"flex justify-between items-start mb-4\">\r\n          <div>\r\n            <h3 className=\"text-xl font-semibold\">Session {session.id}</h3>\r\n            <p className=\"text-sm text-muted-foreground\">{session.pages.join(' → ')}</p>\r\n          </div>\r\n          <div>\r\n            <button onClick={onClose} className=\"px-3 py-1 rounded bg-secondary text-secondary-foreground\">Close</button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mb-4 grid grid-cols-2 gap-4\">\r\n          <div className=\"bg-secondary p-3 rounded border border-border\">\r\n            <div className=\"text-sm text-muted-foreground\">Start</div>\r\n            <div className=\"font-mono\">{new Date(session.start).toLocaleString()}</div>\r\n          </div>\r\n          <div className=\"bg-secondary p-3 rounded border border-border\">\r\n            <div className=\"text-sm text-muted-foreground\">Duration</div>\r\n            <div className=\"font-mono\">{session.durationSeconds}s</div>\r\n          </div>\r\n        </div>\r\n\r\n        <h4 className=\"text-lg font-medium mb-2\">Events</h4>\r\n\r\n        <div className=\"mb-4\">\r\n          <div className=\"bg-secondary p-3 rounded border border-border\">\r\n            <div style={{ position: 'relative' }}>\r\n              <svg width=\"100%\" height=\"60\" viewBox=\"0 0 800 60\" preserveAspectRatio=\"none\">\r\n                <line x1=\"0\" y1=\"30\" x2=\"800\" y2=\"30\" stroke=\"#374151\" strokeWidth={1} />\r\n                {session.views.map((v, i) => {\r\n                  const ts = Date.parse(v.timestamp);\r\n                  const x = mapX(ts, 800);\r\n                  return (\r\n                    <circle\r\n                      key={v.id || i}\r\n                      cx={x}\r\n                      cy={30}\r\n                      r={6}\r\n                      fill={v.type === 'page_unload' ? '#f97316' : v.type === 'custom_event' ? '#06b6d4' : '#60a5fa'}\r\n                      onMouseEnter={(e) => setHover({ x: e.clientX, y: e.clientY, text: `${new Date(ts).toLocaleTimeString()} — ${v.type || 'pageview'} ${v.page || ''}` })}\r\n                      onMouseLeave={() => setHover(null)}\r\n                    />\r\n                  );\r\n                })}\r\n              </svg>\r\n              {hover && (\r\n                <div style={{ position: 'absolute', left: hover.x - 200, top: -40 }} className=\"bg-background border border-border p-2 rounded text-sm shadow\">\r\n                  {hover.text}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full text-left\">\r\n            <thead>\r\n              <tr className=\"border-b border-border\">\r\n                <th className=\"p-2\">Time</th>\r\n                <th className=\"p-2\">Type</th>\r\n                <th className=\"p-2\">Page</th>\r\n                <th className=\"p-2\">Time on page</th>\r\n                <th className=\"p-2\">Scroll</th>\r\n                <th className=\"p-2\">User Agent</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {session.views.map((v, i) => (\r\n                <tr key={v.id || i} className=\"border-b border-border/50\">\r\n                  <td className=\"p-2\">{new Date(v.timestamp).toLocaleString()}</td>\r\n                  <td className=\"p-2\">{v.type || 'pageview'}</td>\r\n                  <td className=\"p-2 truncate max-w-xs\">{v.page}</td>\r\n                  <td className=\"p-2\">{v.timeOnPage != null ? `${v.timeOnPage}s` : '-'}</td>\r\n                  <td className=\"p-2\">{v.scrollDepth != null ? `${v.scrollDepth}%` : '-'}</td>\r\n                  <td className=\"p-2 truncate max-w-sm\" title={v.userAgent}>{v.userAgent}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SessionModal;\r\n","import React, { useState } from 'react';\r\nimport { PageView } from '../types';\r\nimport SessionModal from './SessionModal';\r\n\r\ninterface Session {\r\n  id: string;\r\n  sessionIdBase: string;\r\n  start: string;\r\n  end: string;\r\n  durationSeconds: number;\r\n  pages: string[];\r\n  entryPage: string;\r\n  exitPage: string;\r\n  isBounce: boolean;\r\n  views: PageView[];\r\n}\r\n\r\ninterface Props {\r\n  sessions: Session[];\r\n}\r\n\r\nconst SessionList: React.FC<Props> = ({ sessions }) => {\r\n  const [selected, setSelected] = useState<Session | null>(null);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"bg-secondary p-6 rounded-lg border border-border\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Sessions</h3>\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full text-left\">\r\n            <thead>\r\n              <tr className=\"border-b border-border\">\r\n                <th className=\"p-2\">Session ID</th>\r\n                <th className=\"p-2\">Start</th>\r\n                <th className=\"p-2\">Duration</th>\r\n                <th className=\"p-2\">Pages</th>\r\n                <th className=\"p-2\">Entry</th>\r\n                <th className=\"p-2\">Exit</th>\r\n                <th className=\"p-2\">Bounce</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {sessions.map((s) => (\r\n                <tr key={s.id} className=\"border-b border-border/50 hover:bg-accent/5 cursor-pointer\" onClick={() => setSelected(s)}>\r\n                  <td className=\"p-2 font-mono truncate max-w-[12rem]\">{s.id}</td>\r\n                  <td className=\"p-2\">{new Date(s.start).toLocaleString()}</td>\r\n                  <td className=\"p-2\">{s.durationSeconds}s</td>\r\n                  <td className=\"p-2 truncate max-w-xs\" title={s.pages.join(' → ')}>{s.pages.join(' → ')}</td>\r\n                  <td className=\"p-2\">{s.entryPage}</td>\r\n                  <td className=\"p-2\">{s.exitPage}</td>\r\n                  <td className=\"p-2\">{s.isBounce ? 'Yes' : 'No'}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      <SessionModal session={selected} onClose={() => setSelected(null)} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SessionList;\r\n","import React, { useMemo } from 'react';\r\n\r\ninterface Session {\r\n  id: string;\r\n  pages: string[];\r\n  entryPage: string;\r\n  exitPage: string;\r\n}\r\n\r\ninterface Props {\r\n  sessions: Session[];\r\n  topN?: number;\r\n}\r\n\r\nconst FunnelBar: React.FC<{ label: string; value: number; max: number }> = ({ label, value, max }) => {\r\n  const width = max === 0 ? 0 : Math.round((value / max) * 100);\r\n  return (\r\n    <div className=\"mb-3\">\r\n      <div className=\"flex justify-between text-sm text-muted-foreground mb-1\">\r\n        <span>{label}</span>\r\n        <span className=\"font-mono\">{value}</span>\r\n      </div>\r\n      <div className=\"bg-zinc-800 rounded h-6\">\r\n        <div className=\"bg-accent h-6 rounded\" style={{ width: `${width}%` }} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SessionFunnel: React.FC<Props> = ({ sessions, topN = 5 }) => {\r\n  const counts = useMemo(() => {\r\n    const entry: Record<string, number> = {};\r\n    const mid: Record<string, number> = {};\r\n    const exit: Record<string, number> = {};\r\n\r\n    for (const s of sessions) {\r\n      if (s.entryPage) entry[s.entryPage] = (entry[s.entryPage] || 0) + 1;\r\n      if (s.exitPage) exit[s.exitPage] = (exit[s.exitPage] || 0) + 1;\r\n      for (const p of s.pages) mid[p] = (mid[p] || 0) + 1;\r\n    }\r\n\r\n    const toSorted = (obj: Record<string, number>) =>\r\n      Object.entries(obj).sort((a, b) => b[1] - a[1]).slice(0, topN);\r\n\r\n    const entryTop = toSorted(entry);\r\n    const midTop = toSorted(mid);\r\n    const exitTop = toSorted(exit);\r\n\r\n    const max = Math.max(\r\n      ...(entryTop.map(([, v]) => v).concat(midTop.map(([, v]) => v)).concat(exitTop.map(([, v]) => v)).length ? [0] : [0])\r\n    );\r\n\r\n    const all = { entryTop, midTop, exitTop, max } as any;\r\n    // compute more realistic max (fallback to first item's value)\r\n    all.max = Math.max(\r\n      entryTop.length ? entryTop[0][1] : 0,\r\n      midTop.length ? midTop[0][1] : 0,\r\n      exitTop.length ? exitTop[0][1] : 0\r\n    );\r\n    return all;\r\n  }, [sessions, topN]);\r\n\r\n  return (\r\n    <div className=\"bg-secondary p-6 rounded-lg border border-border\">\r\n      <h3 className=\"text-lg font-semibold mb-4\">Session Funnel (Top Pages)</h3>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n        <div>\r\n          <h4 className=\"text-sm font-medium mb-2\">Entry Pages</h4>\r\n          {counts.entryTop.map(([p, v]: any, i: number) => (\r\n            <FunnelBar key={p + i} label={p} value={v} max={counts.max} />\r\n          ))}\r\n        </div>\r\n        <div>\r\n          <h4 className=\"text-sm font-medium mb-2\">All Pages (mid)</h4>\r\n          {counts.midTop.map(([p, v]: any, i: number) => (\r\n            <FunnelBar key={p + i} label={p} value={v} max={counts.max} />\r\n          ))}\r\n        </div>\r\n        <div>\r\n          <h4 className=\"text-sm font-medium mb-2\">Exit Pages</h4>\r\n          {counts.exitTop.map(([p, v]: any, i: number) => (\r\n            <FunnelBar key={p + i} label={p} value={v} max={counts.max} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SessionFunnel;\r\n","// theme utilities: apply and persist theme\r\nexport const THEME_KEY = 'pulse:theme';\r\nexport type Theme = 'classic' | 'cybertech';\r\n\r\nexport function getPreferredTheme(): Theme {\r\n  try {\r\n    const stored = localStorage.getItem(THEME_KEY) as Theme | null;\r\n    if (stored) return stored;\r\n    const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n    return prefersDark ? 'cybertech' : 'classic';\r\n  } catch (e) {\r\n    return 'classic';\r\n  }\r\n}\r\n\r\nexport function applyTheme(t: Theme) {\r\n  if (t === 'cybertech') {\r\n    document.documentElement.setAttribute('data-theme', 'cybertech');\r\n    // inject cyber css if not already\r\n    if (!document.getElementById('cybertech-css')) {\r\n      const l = document.createElement('link');\r\n      l.id = 'cybertech-css';\r\n      l.rel = 'stylesheet';\r\n      l.href = '/styles/theme.cybertech.css';\r\n      // Create overlays only after CSS loads so styles are applied\r\n      l.onload = () => {\r\n        try { createOverlays(); console.info('[theme] cybertech CSS loaded'); } catch (e) {}\r\n      };\r\n      l.onerror = () => { console.warn('[theme] failed to load cybertech CSS'); };\r\n      document.head.appendChild(l);\r\n    }\r\n    // If CSS already present, ensure overlays now (createOverlays will check body readiness)\r\n    if (document.getElementById('cybertech-css')) {\r\n      try { createOverlays(); } catch (e) {}\r\n    }\r\n  } else {\r\n    document.documentElement.removeAttribute('data-theme');\r\n    const e = document.getElementById('cybertech-css');\r\n    if (e) e.remove();\r\n    const bg = document.getElementById('cyber-bg-hex'); if (bg) bg.remove();\r\n    const sheen = document.getElementById('cyber-sheen'); if (sheen) sheen.remove();\r\n    const glow = document.getElementById('cyber-glow'); if (glow) glow.remove();\r\n    const mid = document.getElementById('cyber-hex-mid'); if (mid) mid.remove();\r\n    const fore = document.getElementById('cyber-hex-fore'); if (fore) fore.remove();\r\n    const portal = document.getElementById('cyber-portal'); if (portal) portal.remove();\r\n    const pf = document.getElementById('cyber-portal-fallback'); if (pf) pf.remove();\r\n    const anims = document.getElementById('cybertech-inline-anims'); if (anims) anims.remove();\r\n  }\r\n  try { localStorage.setItem(THEME_KEY, t); } catch (e) {}\r\n}\r\n\r\nfunction createOverlays() {\r\n  // createOverlay elements only when body exists; otherwise wait for DOMContentLoaded\r\n  const setup = () => {\r\n    // ensure a top-level portal that sits above all app stacking contexts\r\n    let portal = document.getElementById('cyber-portal');\r\n    if (!portal) {\r\n      portal = document.createElement('div');\r\n      portal.id = 'cyber-portal';\r\n      portal.setAttribute('aria-hidden', 'true');\r\n      // inline styles to make the portal dominant (avoid being trapped by other stacking contexts)\r\n      portal.style.position = 'fixed';\r\n      portal.style.inset = '0';\r\n      portal.style.pointerEvents = 'none';\r\n      // extremely high z-index to beat any app-level z-index\r\n      portal.style.zIndex = '2147483647';\r\n      // avoid transforms on the portal itself\r\n      portal.style.transform = 'none';\r\n      document.body.appendChild(portal);\r\n    }\r\n\r\n    // Inject a defensive stylesheet that forces portal children to remain on top\r\n    if (!document.getElementById('cyber-portal-fallback')) {\r\n      const s = document.createElement('style');\r\n      s.id = 'cyber-portal-fallback';\r\n      s.textContent = `#cyber-portal, #cyber-portal > * { position: fixed !important; inset: 0 !important; pointer-events: none !important; z-index: 2147483647 !important; transform: none !important; } #cyber-portal .cyber-bg-hex { background-repeat: repeat !important; }`;\r\n      document.head.appendChild(s);\r\n    }\r\n\r\n    if (!document.getElementById('cyber-bg-hex')) {\r\n      const d = document.createElement('div');\r\n      d.id = 'cyber-bg-hex';\r\n      d.className = 'cyber-bg-hex';\r\n      d.setAttribute('aria-hidden', 'true');\r\n      // inline fallback styles so the overlay shows even if attribute-scoped\r\n      // CSS rules do not match or fail to load for some environments.\r\n      d.style.position = 'fixed';\r\n      d.style.inset = '0';\r\n      d.style.backgroundImage = \"url('/img/hex-grid.svg')\";\r\n      d.style.backgroundRepeat = 'repeat';\r\n      d.style.backgroundSize = '160px 160px';\r\n      d.style.backgroundPosition = '0 0';\r\n      d.style.pointerEvents = 'none';\r\n      d.style.opacity = '0.35';\r\n      d.style.mixBlendMode = 'overlay';\r\n      d.style.transform = 'translateZ(0)';\r\n      d.style.zIndex = '9998';\r\n      d.style.willChange = 'transform, opacity, background-position';\r\n      d.style.animation = 'hex-drift 36s linear infinite';\r\n  // append into the high-level portal to avoid stacking context issues\r\n  (portal || document.body).appendChild(d);\r\n      console.info('[theme] created cyber-bg-hex');\r\n    }\r\n    if (!document.getElementById('cyber-hex-mid')) {\r\n      const m = document.createElement('div');\r\n      m.id = 'cyber-hex-mid';\r\n      m.className = 'cyber-hex-mid';\r\n      m.setAttribute('aria-hidden', 'true');\r\n      m.style.position = 'fixed';\r\n      m.style.inset = '0';\r\n      m.style.pointerEvents = 'none';\r\n      m.style.backgroundImage = \"url('/img/hex-grid.svg')\";\r\n      m.style.backgroundRepeat = 'repeat';\r\n      m.style.backgroundSize = '240px 240px';\r\n      m.style.backgroundPosition = '0 0';\r\n      m.style.opacity = '0.25';\r\n      m.style.mixBlendMode = 'overlay';\r\n      m.style.zIndex = '2147483646';\r\n      m.style.animation = 'hex-parallax-slow 46s linear infinite';\r\n  (portal || document.body).appendChild(m);\r\n      console.info('[theme] created cyber-hex-mid');\r\n    }\r\n    if (!document.getElementById('cyber-hex-fore')) {\r\n      const f = document.createElement('div');\r\n      f.id = 'cyber-hex-fore';\r\n      f.className = 'cyber-hex-fore';\r\n      f.setAttribute('aria-hidden', 'true');\r\n      f.style.position = 'fixed';\r\n      f.style.inset = '0';\r\n      f.style.pointerEvents = 'none';\r\n      f.style.backgroundImage = \"url('/img/hex-grid.svg')\";\r\n      f.style.backgroundRepeat = 'repeat';\r\n      f.style.backgroundSize = '112px 112px';\r\n      f.style.backgroundPosition = '0 0';\r\n      f.style.opacity = '0.2';\r\n      f.style.mixBlendMode = 'overlay';\r\n      f.style.zIndex = '2147483647';\r\n      f.style.animation = 'hex-parallax-fast 28s linear infinite';\r\n  (portal || document.body).appendChild(f);\r\n      console.info('[theme] created cyber-hex-fore');\r\n    }\r\n    if (!document.getElementById('cyber-sheen')) {\r\n      const d = document.createElement('div');\r\n      d.id = 'cyber-sheen';\r\n      d.className = 'cyber-sheen';\r\n      d.setAttribute('aria-hidden', 'true');\r\n      // inline fallback sheen\r\n      d.style.position = 'fixed';\r\n      d.style.inset = '0';\r\n      d.style.backgroundImage = 'linear-gradient(transparent 96%, rgba(255,255,255,.045) 100%)';\r\n      d.style.backgroundSize = '100% 32px';\r\n      d.style.backgroundPosition = '0 0';\r\n      d.style.mixBlendMode = 'overlay';\r\n      d.style.pointerEvents = 'none';\r\n      d.style.zIndex = '9999';\r\n      d.style.opacity = '0.95';\r\n      d.style.animation = 'sheen-move 6s linear infinite';\r\n  (portal || document.body).appendChild(d);\r\n      console.info('[theme] created cyber-sheen');\r\n    }\r\n    if (!document.getElementById('cyber-glow')) {\r\n      const d = document.createElement('div');\r\n      d.id = 'cyber-glow';\r\n      d.className = 'cyber-glow';\r\n      d.setAttribute('aria-hidden', 'true');\r\n      // inline fallback glow: create two positioned children to mimic ::before/::after\r\n      d.style.position = 'fixed';\r\n      d.style.inset = '0';\r\n      d.style.pointerEvents = 'none';\r\n      d.style.zIndex = '9997';\r\n      const b = document.createElement('div');\r\n      const a = document.createElement('div');\r\n      // before\r\n      b.style.position = 'absolute';\r\n      b.style.left = '-10%';\r\n      b.style.top = '-10%';\r\n      b.style.width = '50%';\r\n      b.style.height = '50%';\r\n      b.style.filter = 'blur(40px)';\r\n      b.style.opacity = '0.28';\r\n      b.style.mixBlendMode = 'screen';\r\n      b.style.background = 'radial-gradient(circle at 20% 20%, rgba(0,173,181,0.55), transparent 40%)';\r\n      // after\r\n      a.style.position = 'absolute';\r\n      a.style.right = '-10%';\r\n      a.style.bottom = '-8%';\r\n      a.style.width = '50%';\r\n      a.style.height = '50%';\r\n      a.style.filter = 'blur(40px)';\r\n      a.style.opacity = '0.28';\r\n      a.style.mixBlendMode = 'screen';\r\n      a.style.background = 'radial-gradient(circle at 80% 80%, rgba(138,92,246,0.28), transparent 35%)';\r\n      // pulsing animations for glow accents\r\n      b.style.animation = 'glow-pulse 6s ease-in-out infinite';\r\n      a.style.animation = 'glow-pulse 8s ease-in-out infinite';\r\n      d.appendChild(b);\r\n      d.appendChild(a);\r\n  (portal || document.body).appendChild(d);\r\n      console.info('[theme] created cyber-glow');\r\n    }\r\n  };\r\n\r\n  // Inject minimal keyframes fallback so inline animations run even if the\r\n  // stylesheet with full authoring is not applied for some reason.\r\n  if (!document.getElementById('cybertech-inline-anims')) {\r\n    const s = document.createElement('style');\r\n    s.id = 'cybertech-inline-anims';\r\n    s.textContent = `\r\n@keyframes hex-drift { 0% { transform: translate3d(0,0,0) rotate(0deg); background-position: 0 0; } 50% { transform: translate3d(-12px,6px,0) rotate(180deg); background-position: -80px 40px; } 100% { transform: translate3d(0,0,0) rotate(360deg); background-position: 0 0; } }\r\n@keyframes hex-parallax-slow { 0% { transform: translate3d(0,0,0); background-position: 0 0; } 50% { transform: translate3d(-8px,4px,0); background-position: -60px 30px; } 100% { transform: translate3d(0,0,0); background-position: 0 0; } }\r\n@keyframes hex-parallax-fast { 0% { transform: translate3d(0,0,0); background-position: 0 0; } 50% { transform: translate3d(-24px,12px,0); background-position: -160px 80px; } 100% { transform: translate3d(0,0,0); background-position: 0 0; } }\r\n@keyframes hex-rotate { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }\r\n@keyframes sheen-move { 0% { background-position: 0 0; } 100% { background-position: 0 48px; } }\r\n@keyframes glow-pulse { 0% { opacity: .22; filter: blur(36px); } 50% { opacity: .42; filter: blur(20px); } 100% { opacity: .22; filter: blur(36px); } }\r\n`;\r\n    document.head.appendChild(s);\r\n  }\r\n\r\n  if (document.body) {\r\n    setup();\r\n  } else {\r\n    window.addEventListener('DOMContentLoaded', () => setup(), { once: true });\r\n    console.info('[theme] waiting for DOMContentLoaded to create overlays');\r\n  }\r\n}\r\n\r\nexport function initTheme() {\r\n  const t = getPreferredTheme();\r\n  applyTheme(t);\r\n}\r\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { PageView, PageSummaryData } from './types';\nimport PageSummary from './components/PageSummary';\nconst StatusChip = React.lazy(() => import('./components/StatusChip'));\nimport PageViewsTable from './components/PageViewsTable';\nimport SetupGuide from './components/SetupGuide';\nimport SessionList from './components/SessionList';\nimport SessionFunnel from './components/SessionFunnel';\nimport { applyTheme, getPreferredTheme, Theme } from './theme';\n\n// make sure the cyber css path is available via public/styles\n\nconst App: React.FC = () => {\n  // resolve API base like other parts of the app (import.meta.env or runtime override)\n  const resolveApiBase = () => {\n    const ime = (typeof (import.meta) !== 'undefined' ? (import.meta as any).env : {}) || {};\n    const buildVal = (ime && ime.VITE_API_BASE) ? String(ime.VITE_API_BASE) : '';\n    if (buildVal) return buildVal.replace(/\\/$/, '');\n    try {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const runtime = (typeof window !== 'undefined' && (window as any).__VITE_API_BASE) ? String((window as any).__VITE_API_BASE) : '';\n      if (runtime) return runtime.replace(/\\/$/, '');\n    } catch (e) {\n      /* ignore */\n    }\n    return '';\n  };\n\n  const apiBase = resolveApiBase();\n  const [views, setViews] = useState<PageView[]>([]);\n  const [sessionsData, setSessionsData] = useState<any | null>(null);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [error, setError] = useState<string | null>(null);\n  const [theme, setTheme] = useState<Theme>(() => getPreferredTheme());\n\n  const fetchStats = useCallback(async () => {\n    setLoading(true);\n    try {\n      const statsUrl = apiBase ? `${apiBase}/api/stats` : '/api/stats';\n      const response = await fetch(statsUrl);\n      if (!response.ok) {\n        // try to include a snippet if the server returned HTML/errors\n        let bodySnippet = '';\n        try { const t = await response.text(); bodySnippet = t.slice(0, 200); } catch {}\n        throw new Error(`Failed to fetch stats (${response.status}) ${bodySnippet ? `- ${bodySnippet}` : ''}`);\n      }\n      const ct = response.headers.get('content-type') || '';\n      if (!ct.includes('application/json')) {\n        const txt = await response.text();\n        throw new Error(`Non-JSON response (${response.status}) ${ct}: ${txt.slice(0,200)}`);\n      }\n      const data: PageView[] = await response.json();\n      // Sort by timestamp descending.\n      // Fix: The subtraction operator cannot be applied to Date objects directly in TypeScript.\n      // Use .getTime() to get the numeric value of the date for sorting.\n      data.sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime());\n      setViews(data);\n      // fetch aggregated sessions\n      try {\n        const aggUrl = apiBase ? `${apiBase}/api/stats?aggregate=true` : '/api/stats?aggregate=true';\n        const agg = await fetch(aggUrl);\n        if (agg.ok) {\n          const ct2 = agg.headers.get('content-type') || '';\n          if (!ct2.includes('application/json')) {\n            setSessionsData(null);\n          } else {\n            const parsed = await agg.json();\n            setSessionsData(parsed);\n          }\n        } else {\n          setSessionsData(null);\n        }\n      } catch (e) {\n        setSessionsData(null);\n      }\n      setError(null);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'An unknown error occurred');\n      setViews([]); // Clear views on error\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchStats();\n  }, [fetchStats]);\n\n  useEffect(() => {\n    try { applyTheme(theme); } catch (e) {}\n  }, [theme]);\n\n  const pageSummary: PageSummaryData[] = useMemo(() => {\n    const counts = views.reduce((acc, view) => {\n      acc[view.page] = (acc[view.page] || 0) + 1;\n      return acc;\n    }, {} as Record<string, number>);\n\n    return Object.entries(counts)\n      .map(([page, views]) => ({ page, views }))\n      .sort((a, b) => b.views - a.views);\n  }, [views]);\n\n  return (\n  <div className=\"min-h-screen bg-background text-foreground p-4 sm:p-6 lg:p-8 cyber-content\">\n      <div className=\"max-w-7xl mx-auto\">\n        <header className=\"mb-8 flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-3xl font-bold tracking-tight cyber-heading\">Pulse Analytics</h1>\n            <p className=\"text-muted-foreground\">A simple, self-hosted analytics dashboard.</p>\n          </div>\n          <div className=\"flex items-center space-x-4\">\n            {/* Status chip shows backend health */}\n            {/* @ts-ignore - lazy import to avoid increasing bundle in this patch */}\n            <React.Suspense fallback={null}>\n              <StatusChip />\n            </React.Suspense>\n            <button\n              onClick={fetchStats}\n              disabled={loading}\n              className=\"px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n            >\n              {loading ? 'Refreshing...' : 'Refresh'}\n            </button>\n          </div>\n          <div className=\"flex items-center space-x-3\">\n            <label className=\"text-sm text-muted-foreground\">Theme:</label>\n            <select\n              aria-label=\"Theme\"\n              value={theme}\n              onChange={(e) => setTheme(e.target.value as Theme)}\n              className=\"px-3 py-2 rounded-md\"\n            >\n              <option value=\"classic\">Classic</option>\n              <option value=\"cybertech\">CyberTech</option>\n            </select>\n          </div>\n          <button\n            onClick={fetchStats}\n            disabled={loading}\n            className=\"px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            {loading ? 'Refreshing...' : 'Refresh'}\n          </button>\n        </header>\n\n        <main className=\"space-y-8\">\n          {error && (\n            <div className=\"bg-red-900 border border-red-700 text-red-100 px-4 py-3 rounded-md\" role=\"alert\">\n              <strong className=\"font-bold\">Error: </strong>\n              <span className=\"block sm:inline\">{error}</span>\n            </div>\n          )}\n\n          <SetupGuide />\n\n          {loading ? (\n            <div className=\"text-center py-10 text-muted-foreground\">\n                <p>Loading analytics data...</p>\n            </div>\n          ) : views.length === 0 && !error ? (\n              <div className=\"text-center py-10 border-2 border-dashed border-border rounded-lg\">\n                <h3 className=\"text-xl font-semibold\">No data yet!</h3>\n                <p className=\"text-muted-foreground mt-2\">Embed the tracker script on your site to start seeing pageviews.</p>\n              </div>\n          ) : (\n            <>\n              <PageSummary data={pageSummary} totalViews={views.length} uniqueVisitors={new Set(views.map(v => v.userAgent)).size} />\n              <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                <SessionFunnel sessions={(sessionsData && sessionsData.sessions) || []} />\n                <div className=\"lg:col-span-2\">\n                  <SessionList sessions={(sessionsData && sessionsData.sessions) || []} />\n                </div>\n              </div>\n              <PageViewsTable views={views} />\n            </>\n          )}\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\nimport { HealthProvider } from './hooks/useHealth';\nimport './index.css';\nimport { initTheme } from './theme';\n\n// initialize theme early\ntry { initTheme(); } catch (e) { /* ignore */ }\n\nconst rootElement = document.getElementById('root');\nif (!rootElement) {\n  throw new Error(\"Could not find root element to mount to\");\n}\n\nconst root = ReactDOM.createRoot(rootElement);\nroot.render(\n  <React.StrictMode>\n    <HealthProvider>\n      <App />\n    </HealthProvider>\n  </React.StrictMode>\n);"],"file":"assets/index-xDDGBft9.js"}